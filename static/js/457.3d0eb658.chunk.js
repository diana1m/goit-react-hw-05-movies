"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[457],{457:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(861),a=t(439),u=t(757),c=t.n(u),s=t(791),i=t(87),o=t(689),p=t(82),f=t(184),l=function(e){var n=e.onSubmit;return(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(e.target[0].value),e.target.reset()},children:[(0,f.jsx)("input",{type:"text",name:"search",placeholder:"search movies",required:!0}),(0,f.jsx)("button",{type:"submit",children:"Submit"})]})},h=function(){var e=(0,i.lr)(),n=(0,a.Z)(e,2),t=n[0],u=n[1],h=(0,s.useState)([]),v=(0,a.Z)(h,2),d=v[0],m=v[1],x=(0,s.useState)(null),g=(0,a.Z)(x,2),y=g[0],k=g[1],b=(0,o.TH)();(0,s.useEffect)((function(){var e=t.get("value");if(console.log(e),e){var n=function(){var n=(0,r.Z)(c().mark((function n(){var t,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,p.qF)(e);case 3:t=n.sent,r=t.data,m(r.results),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),k(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();n()}}),[t]);return console.log(d),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{children:"Movies"}),y&&(0,f.jsxs)("p",{children:["Ooooops... ",y]}),(0,f.jsx)(l,{onSubmit:function(e){u({value:e})}}),(0,f.jsx)("ul",{children:d.map((function(e){return(0,f.jsxs)("li",{children:[" ",(0,f.jsx)(i.rU,{to:"/movies/".concat(e.id),state:{from:b},children:e.title})," "]},e.id)}))})]})}},82:function(e,n,t){t.d(n,{Cm:function(){return x},LP:function(){return o},jf:function(){return d},qF:function(){return f},sO:function(){return h}});var r=t(861),a=t(757),u=t.n(a),c=t(243),s="f74d35c77cf5d32effd7c6bb9dddc2ef",i="https://api.themoviedb.org/3";function o(){return p.apply(this,arguments)}function p(){return p=(0,r.Z)(u().mark((function e(){var n,t,r,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:1,t={url:"".concat(i,"/trending/movie/day"),params:{api_key:s,page:n}},e.next=4,(0,c.Z)(t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function f(e){return l.apply(this,arguments)}function l(){return l=(0,r.Z)(u().mark((function e(n){var t,r,a,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:1,r={url:"".concat(i,"/search/movie"),params:{api_key:s,language:"en-US",page:t,query:n}},e.next=4,(0,c.Z)(r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(u().mark((function e(n){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"".concat(i,"/movie/").concat(n),params:{api_key:s,language:"en-US"}},e.next=3,(0,c.Z)(t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(u().mark((function e(n){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"".concat(i,"/movie/").concat(n,"/credits"),params:{api_key:s,language:"en-US"}},e.next=3,(0,c.Z)(t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(u().mark((function e(n){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"".concat(i,"/movie/").concat(n,"/reviews"),params:{api_key:s,language:"en-US",page:1}},e.next=3,(0,c.Z)(t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=457.3d0eb658.chunk.js.map